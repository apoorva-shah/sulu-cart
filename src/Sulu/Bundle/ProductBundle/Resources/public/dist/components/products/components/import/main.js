define(function(){"use strict";return{view:!0,templates:["/admin/productbase/template/product/import"],initialize:function(){this.render(),this.bindCustomEvents()},render:function(){this.html(this.renderTemplate("/admin/productbase/template/product/import")),this.sandbox.start([{name:"process@husky",options:{el:"#process",instanceName:"import",data:[{id:1,name:"Choose & upload file"},{id:2,name:"Match header"},{id:3,name:"Approve"},{id:4,name:"Finish import"}],activeProcess:2}},{name:"matcher@husky",options:{el:"#matcher",instanceName:"product-import",data:[{id:1,title:"Product number",matched:!1,samples:["1234","5678"],suggestion:{table:"products",col:"id",name:"Products id"}},{id:2,title:"Product title",matched:!1,samples:["Soup","Noodles"],suggestion:{table:"products",col:"title",name:"Products title"}},{id:3,title:"Product description",matched:!1,samples:["hot","tasty"]}],dbColumns:[{table:"products",col:"id",name:"Products id"},{table:"products",col:"title",name:"Products title",multiAssign:!1},{table:"products",col:"description",name:"Products description",multiAssign:!0},{table:"products",col:"price",name:"Products price",multiAssign:!0}]}}])},bindCustomEvents:function(){this.sandbox.on("husky.matcher.product-import.initialized",function(){this.sandbox.emit("husky.matcher.product-import.get-data",function(a){this.sandbox.dom.html(this.sandbox.dom.find("#unmatched-columns",this.$el),a.length)}.bind(this))}.bind(this)),this.sandbox.on("husky.matcher.product-import.edited",function(a){this.sandbox.dom.html(this.sandbox.dom.find("#unmatched-columns",this.$el),a)}.bind(this))}}});