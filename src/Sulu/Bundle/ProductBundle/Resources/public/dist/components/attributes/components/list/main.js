define(function(){"use strict";var a=function(){this.sandbox.on("sulu.toolbar.add",function(){this.sandbox.emit("sulu.product.attributes.new")}.bind(this)),this.sandbox.on("sulu.toolbar.delete",function(){this.sandbox.emit("husky.datagrid.items.get-selected",function(a){this.sandbox.emit("sulu.product.attributes.delete",a)}.bind(this))}.bind(this)),this.sandbox.on("husky.datagrid.number.selections",function(a){var b=a>0?"enable":"disable";this.sandbox.emit("sulu.header.toolbar.item."+b,"deleteSelected",!1)},this)},b=function(a){this.sandbox.emit("sulu.product.attributes.load",a)};return{view:!0,layout:{content:{width:"max"}},header:{noBack:!0,title:"pim.attributes.title",toolbar:{buttons:{add:{},deleteSelected:{}}}},templates:["/admin/product/template/attribute/list"],initialize:function(){this.render(),a.call(this)},renderGrid:function(){this.sandbox.dom.html(this.$el,this.renderTemplate("/admin/product/template/attribute/list")),this.sandbox.sulu.initListToolbarAndList.call(this,"attributesFields","/admin/api/attributes/fields",{el:this.$find("#list-toolbar-container"),instanceName:"attributesToolbar",template:this.sandbox.sulu.buttons.get({settings:{options:{dropdownItems:[{type:"columnOptions"}]}}})},{el:this.sandbox.dom.find("#attributes-list",this.$el),url:"/admin/api/attributes?flat=true",resultKey:"attributes",searchInstanceName:"attributesToolbar",searchFields:["name"],actionCallback:b.bind(this)})},render:function(){this.renderGrid()}}});